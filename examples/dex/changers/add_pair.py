"""
ADD PAIRS

[ [ '0xCB46c0ddc60D18eFEB0E586C17Af6ea36452Dae0',
    '0x4dA7997A819bb46B6758B9102234c289dD2Ad3bf',
    '1000000000000000000',
    '1000000000000000000' ],
  [ '0xCB46c0ddc60D18eFEB0E586C17Af6ea36452Dae0',
    '0x840871cbb73dC94dcb11b2CEA963553Db71a95b7',
    '1000000000000000000',
    '1000000000000000000' ],
  [ '0xCB46c0ddc60D18eFEB0E586C17Af6ea36452Dae0',
    '0xA274d994F698Dd09256674960d86aBa22C086669',
    '1000000000000000000',
    '1000000000000000000' ],
  [ '0xA274d994F698Dd09256674960d86aBa22C086669',
    '0x4dA7997A819bb46B6758B9102234c289dD2Ad3bf',
    '1000000000000000000',
    '1000000000000000000' ],
  [ '0xA274d994F698Dd09256674960d86aBa22C086669',
    '0x840871cbb73dC94dcb11b2CEA963553Db71a95b7',
    '1000000000000000000',
    '1000000000000000000' ] ]



"""

from moneyonchain.manager import ConnectionManager
from moneyonchain.changers import DexAddTokenPairChanger

import logging
import logging.config

logging.basicConfig(level=logging.INFO,
                    format='%(asctime)s %(name)-12s %(levelname)-8s %(message)s',
                    datefmt='%Y-%m-%d %H:%M:%S')
log = logging.getLogger('default')


network = 'dexTestnet'
connection_manager = ConnectionManager(network=network)
print("Connecting to %s..." % network)
print("Connected: {conectado}".format(conectado=connection_manager.is_connected))

contract = DexAddTokenPairChanger(connection_manager)

"""
DOC / BPRO
 [ '0xCB46c0ddc60D18eFEB0E586C17Af6ea36452Dae0',
    '0x4dA7997A819bb46B6758B9102234c289dD2Ad3bf',
    '1000000000000000000',
    '1000000000000000000' ]
DOC / WRBTC
[ '0xCB46c0ddc60D18eFEB0E586C17Af6ea36452Dae0',
    '0xA274d994F698Dd09256674960d86aBa22C086669',
    '1000000000000000000',
    '1000000000000000000' ]
DOC / RIF
[ '0xCB46c0ddc60D18eFEB0E586C17Af6ea36452Dae0',
    '0x19F64674D8A5B4E652319F5e239eFd3bc969A1fE',
    '1000000000000000000',
    '1000000000000000000' ]    
"""

base_token = '0xCB46c0ddc60D18eFEB0E586C17Af6ea36452Dae0'
secondary_address = '0x19F64674D8A5B4E652319F5e239eFd3bc969A1fE'
init_price = int(1000000000000000000)
price_precision = int(1000000000000000000)

tx_hash, tx_receipt = contract.constructor(base_token,
                                           secondary_address,
                                           init_price,
                                           price_precision,
                                           execute_change=False)
if tx_receipt:
    print("Changer Contract Address: {address}".format(address=tx_receipt.contractAddress))
else:
    print("Error deploying changer")


"""
Connecting to dexTestnet...
Connected: True
2020-04-23 16:28:50 root         INFO     Deploying new contract...
2020-04-23 16:29:53 root         INFO     Deployed contract done!
2020-04-23 16:29:53 root         INFO     0x1c4b453aca53daa726d3a8d269da4df80a4870ac56b3f5d85cd79ab4ee70efcd
2020-04-23 16:29:53 root         INFO     AttributeDict({'transactionHash': HexBytes('0x1c4b453aca53daa726d3a8d269da4df80a4870ac56b3f5d85cd79ab4ee70efcd'), 'transactionIndex': 2, 'blockHash': HexBytes('0xee36f9e652d91d854106cae5a77e9d31f9f390d66e38dd01fb3740325879f697'), 'blockNumber': 795540, 'cumulativeGasUsed': 904916, 'gasUsed': 497464, 'contractAddress': '0x6aB3deBfBcfABb675BD16483146bFb193f7fB1E1', 'logs': [], 'from': '0xA8342cC05241E0d940E1c74043faCd931562f19a', 'to': None, 'root': '0x01', 'status': 1, 'logsBloom': HexBytes('0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000')})
2020-04-23 16:29:53 root         INFO     Changer Contract Address: 0x6aB3deBfBcfABb675BD16483146bFb193f7fB1E1
Changer Contract Address: 0x6aB3deBfBcfABb675BD16483146bFb193f7fB1E1


Connecting to dexTestnet...
Connected: True
2020-04-23 16:38:12 root         INFO     Deploying new contract...
Changer Contract Address: 0xE6AfE4D1d8F5737669d8Aca049da8b97b997A605
2020-04-23 16:38:52 root         INFO     Deployed contract done!
2020-04-23 16:38:52 root         INFO     0xb88da264cb21e28cf50cd2703b30b1dc384a04304f9486c82b9287e16b417b53
2020-04-23 16:38:52 root         INFO     AttributeDict({'transactionHash': HexBytes('0xb88da264cb21e28cf50cd2703b30b1dc384a04304f9486c82b9287e16b417b53'), 'transactionIndex': 2, 'blockHash': HexBytes('0x3695dd72eb279998ff1ba70cdbe06c64127e558e228d7c2bc6ac5aae08f9425d'), 'blockNumber': 795557, 'cumulativeGasUsed': 903278, 'gasUsed': 497464, 'contractAddress': '0xE6AfE4D1d8F5737669d8Aca049da8b97b997A605', 'logs': [], 'from': '0xA8342cC05241E0d940E1c74043faCd931562f19a', 'to': None, 'root': '0x01', 'status': 1, 'logsBloom': HexBytes('0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000')})
2020-04-23 16:38:52 root         INFO     Changer Contract Address: 0xE6AfE4D1d8F5737669d8Aca049da8b97b997A605


Connecting to dexTestnet...
Connected: True
2020-04-23 16:41:31 root         INFO     Deploying new contract...
2020-04-23 16:42:50 root         INFO     Deployed contract done!
2020-04-23 16:42:50 root         INFO     0x7315b5e8962d63c676ba4ef3d70c93fc944b7bd98bdd5921d7f71b0e931c3d97
2020-04-23 16:42:50 root         INFO     AttributeDict({'transactionHash': HexBytes('0x7315b5e8962d63c676ba4ef3d70c93fc944b7bd98bdd5921d7f71b0e931c3d97'), 'transactionIndex': 2, 'blockHash': HexBytes('0x1e78cdde18e51de97cb102aed59fd1b13d2907c5c6504aa33b6f14324306dc8a'), 'blockNumber': 795563, 'cumulativeGasUsed': 1990008, 'gasUsed': 497464, 'contractAddress': '0xFAdde92f31731d784BE0a84904Cd07b929EeD3F5', 'logs': [], 'from': '0xA8342cC05241E0d940E1c74043faCd931562f19a', 'to': None, 'root': '0x01', 'status': 1, 'logsBloom': HexBytes('0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000')})
2020-04-23 16:42:50 root         INFO     Changer Contract Address: 0xFAdde92f31731d784BE0a84904Cd07b929EeD3F5
Changer Contract Address: 0xFAdde92f31731d784BE0a84904Cd07b929EeD3F5


Connecting to dexTestnet...
Connected: True
2020-04-23 16:44:53 root         INFO     Deploying new contract...
2020-04-23 16:45:33 root         INFO     Deployed contract done!
2020-04-23 16:45:33 root         INFO     0xfbe37de4a66a0ec48ed0b955eb68e290a8ebe2d466a4aad9898e428a03d435a8
2020-04-23 16:45:33 root         INFO     AttributeDict({'transactionHash': HexBytes('0xfbe37de4a66a0ec48ed0b955eb68e290a8ebe2d466a4aad9898e428a03d435a8'), 'transactionIndex': 4, 'blockHash': HexBytes('0x6fe2322bddcfcbaf0f366275aed89c3e138202a436080c013355921eb40eb9cb'), 'blockNumber': 795568, 'cumulativeGasUsed': 698171, 'gasUsed': 497464, 'contractAddress': '0xBC11993a28bFC8755C54C7666FB308E4adFff8d6', 'logs': [], 'from': '0xA8342cC05241E0d940E1c74043faCd931562f19a', 'to': None, 'root': '0x01', 'status': 1, 'logsBloom': HexBytes('0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000')})
2020-04-23 16:45:33 root         INFO     Changer Contract Address: 0xBC11993a28bFC8755C54C7666FB308E4adFff8d6
Changer Contract Address: 0xBC11993a28bFC8755C54C7666FB308E4adFff8d6

Connecting to dexTestnet...
Connected: True
2020-04-23 16:47:21 root         INFO     Deploying new contract...
Changer Contract Address: 0x5965c71F5c2F50Fb45a8b01fb00cFf9e373fEf1b
2020-04-23 16:48:03 root         INFO     Deployed contract done!
2020-04-23 16:48:03 root         INFO     0x99e760ba8ecd644d985b22b13e268db49354ac043587729763cc8d96799bb6da
2020-04-23 16:48:03 root         INFO     AttributeDict({'transactionHash': HexBytes('0x99e760ba8ecd644d985b22b13e268db49354ac043587729763cc8d96799bb6da'), 'transactionIndex': 4, 'blockHash': HexBytes('0x4b74c33234a82212b68d861a537ca5fdfda37acc094c949db234e907168936c4'), 'blockNumber': 795573, 'cumulativeGasUsed': 644983, 'gasUsed': 497464, 'contractAddress': '0x5965c71F5c2F50Fb45a8b01fb00cFf9e373fEf1b', 'logs': [], 'from': '0xA8342cC05241E0d940E1c74043faCd931562f19a', 'to': None, 'root': '0x01', 'status': 1, 'logsBloom': HexBytes('0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000')})
2020-04-23 16:48:03 root         INFO     Changer Contract Address: 0x5965c71F5c2F50Fb45a8b01fb00cFf9e373fEf1b



Connecting to dexTestnet...
Connected: True
2020-04-27 16:40:36 root         INFO     Deploying new contract...
Changer Contract Address: 0x0bBa126BcA4C35Be0Dc9F063D9Fa9CCF24e531db
2020-04-27 16:41:06 root         INFO     Deployed contract done!
2020-04-27 16:41:06 root         INFO     0xbca645eabbc9d90d97d45307ba6c231037bfc736ae840ff83b92a8c75708c3a0
2020-04-27 16:41:06 root         INFO     AttributeDict({'transactionHash': HexBytes('0xbca645eabbc9d90d97d45307ba6c231037bfc736ae840ff83b92a8c75708c3a0'), 'transactionIndex': 0, 'blockHash': HexBytes('0x367e46d94574f32841caf10ac5c76879d96c3fcfeb8e4401b054d88d95c2671a'), 'blockNumber': 805822, 'cumulativeGasUsed': 497464, 'gasUsed': 497464, 'contractAddress': '0x0bBa126BcA4C35Be0Dc9F063D9Fa9CCF24e531db', 'logs': [], 'from': '0xA8342cC05241E0d940E1c74043faCd931562f19a', 'to': None, 'root': '0x01', 'status': 1, 'logsBloom': HexBytes('0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000')})
2020-04-27 16:41:06 root         INFO     Changer Contract Address: 0x0bBa126BcA4C35Be0Dc9F063D9Fa9CCF24e531db



Connecting to dexTestnet...
Connected: True
2020-04-30 17:06:28 root         INFO     Deploying new contract...
2020-04-30 17:06:43 root         INFO     Deployed contract done!
2020-04-30 17:06:43 root         INFO     0x3b9b5e038da691ed314e5ab3e16d69e0d2ce84f006f9fef2c7b3ba5be907ddea
2020-04-30 17:06:43 root         INFO     AttributeDict({'transactionHash': HexBytes('0x3b9b5e038da691ed314e5ab3e16d69e0d2ce84f006f9fef2c7b3ba5be907ddea'), 'transactionIndex': 3, 'blockHash': HexBytes('0x84bc960a1ace2adeb6e928bcda64aa71cf00cb3d6c4ef46769071c1a4748d0e3'), 'blockNumber': 813621, 'cumulativeGasUsed': 700251, 'gasUsed': 497464, 'contractAddress': '0xE2c4F63711De408d5C8fA02DA0F42Be2a35Cf36B', 'logs': [], 'from': '0xA8342cC05241E0d940E1c74043faCd931562f19a', 'to': None, 'root': '0x01', 'status': 1, 'logsBloom': HexBytes('0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000')})
2020-04-30 17:06:43 root         INFO     Changer Contract Address: 0xE2c4F63711De408d5C8fA02DA0F42Be2a35Cf36B
Changer Contract Address: 0xE2c4F63711De408d5C8fA02DA0F42Be2a35Cf36B


Connecting to dexTestnet...
Connected: True
2020-04-30 17:13:46 root         INFO     Deploying new contract...
2020-04-30 17:14:44 root         INFO     Deployed contract done!
2020-04-30 17:14:44 root         INFO     0xb6419b27fd3cc324049a92f6d0e94dd1b8770c103658105c98db082504fc3361
2020-04-30 17:14:44 root         INFO     AttributeDict({'transactionHash': HexBytes('0xb6419b27fd3cc324049a92f6d0e94dd1b8770c103658105c98db082504fc3361'), 'transactionIndex': 4, 'blockHash': HexBytes('0x10a0d1152520c76b7da1e7095b42691364d3b2fc9fbeb279c9fb181a484a879c'), 'blockNumber': 813635, 'cumulativeGasUsed': 710170, 'gasUsed': 497464, 'contractAddress': '0xc4Dc7a4e8eb64D922FDc0D8C55b657860dD83265', 'logs': [], 'from': '0xA8342cC05241E0d940E1c74043faCd931562f19a', 'to': None, 'root': '0x01', 'status': 1, 'logsBloom': HexBytes('0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000')})
2020-04-30 17:14:44 root         INFO     Changer Contract Address: 0xc4Dc7a4e8eb64D922FDc0D8C55b657860dD83265
Changer Contract Address: 0xc4Dc7a4e8eb64D922FDc0D8C55b657860dD83265


Connecting to dexTestnet...
2020-04-30 17:19:07 root         INFO     Deploying new contract...
Connected: True
Changer Contract Address: 0x12b41aEec7D30aDd851647e033381cA4Dc23E08e
2020-04-30 17:19:48 root         INFO     Deployed contract done!
2020-04-30 17:19:48 root         INFO     0x93290c731579c509c931f71f13c8311214eda5bc53715034e80e2bf5d3afcb96
2020-04-30 17:19:48 root         INFO     AttributeDict({'transactionHash': HexBytes('0x93290c731579c509c931f71f13c8311214eda5bc53715034e80e2bf5d3afcb96'), 'transactionIndex': 4, 'blockHash': HexBytes('0x6d26b5982326b244a1cdf3a1ce5a39664dd3c7035f0d64a4b3700e7b6a4efd1b'), 'blockNumber': 813644, 'cumulativeGasUsed': 1068424, 'gasUsed': 497464, 'contractAddress': '0x12b41aEec7D30aDd851647e033381cA4Dc23E08e', 'logs': [], 'from': '0xA8342cC05241E0d940E1c74043faCd931562f19a', 'to': None, 'root': '0x01', 'status': 1, 'logsBloom': HexBytes('0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000')})
2020-04-30 17:19:48 root         INFO     Changer Contract Address: 0x12b41aEec7D30aDd851647e033381cA4Dc23E08e
"""